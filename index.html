<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Una Storia d'Amore - Due Bruchi</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #ff6b9d;
            --primary-blue: #4a9eff;
            --bg-gradient-start: #ffeef8;
            --bg-gradient-end: #e8f4ff;
            --shadow-soft: 0 20px 60px rgba(0, 0, 0, 0.15);
            --shadow-float: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .storybook-container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 30px;
            box-shadow: var(--shadow-soft);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 50%, #a1c4fd 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: shimmer 6s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header h1 {
            font-family: 'Fredoka', sans-serif;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        /* Music Player Styles */
        .music-player {
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .music-button {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            padding: 12px 30px;
            border-radius: 30px;
            color: white;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .music-button:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }

        .music-button:active {
            transform: translateY(0);
        }

        #musicIcon {
            font-size: 1.3em;
            animation: musicPulse 2s ease-in-out infinite;
        }

        .music-button.playing #musicIcon {
            animation: musicSpin 3s linear infinite;
        }

        @keyframes musicPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes musicSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .progress-container {
            padding: 20px 40px 10px;
            background: linear-gradient(to bottom, white, #fafafa);
        }

        .progress-bar {
            height: 12px;
            background: #e0e0e0;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-pink) 0%, var(--primary-blue) 100%);
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: progressShine 2s linear infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .episode-counter {
            text-align: center;
            color: #666;
            margin-top: 10px;
            font-size: 1em;
            font-weight: 600;
        }

        .episode-container {
            padding: 50px 40px;
            min-height: 600px;
            position: relative;
        }

        .episode {
            display: none;
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .episode.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }

        .month-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .month-date {
            font-size: 0.9em;
            color: #999;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .episode-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 2.2em;
            background: linear-gradient(135deg, var(--primary-pink), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 10px 0;
            line-height: 1.2;
        }

        .scene {
            background: linear-gradient(to bottom, #e8f5ff 0%, #fff4f0 100%);
            border-radius: 25px;
            padding: 40px;
            margin: 30px 0;
            position: relative;
            min-height: 400px;
            overflow: hidden;
            box-shadow: var(--shadow-float);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scene::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(to top, rgba(0,0,0,0.05), transparent);
            pointer-events: none;
        }

        /* Episode Image Styles */
        .episode-image {
            width: 100%;
            max-width: 600px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            z-index: 2;
            animation: imageFloat 3s ease-in-out infinite;
        }

        @keyframes imageFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .image-placeholder {
            width: 100%;
            max-width: 600px;
            height: 400px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: #999;
            font-size: 1.2em;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .image-placeholder::before {
            content: 'üé®';
            font-size: 4em;
            margin-bottom: 20px;
        }

        /* Story Text */
        .story-text {
            text-align: center;
            font-size: 1.15em;
            line-height: 2;
            color: #2c3e50;
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            border-radius: 20px;
            box-shadow: var(--shadow-float);
            border: 2px solid rgba(255,255,255,0.5);
            font-weight: 500;
            position: relative;
        }

        .story-text::before {
            content: '"';
            font-size: 4em;
            position: absolute;
            top: -10px;
            left: 20px;
            color: var(--primary-pink);
            opacity: 0.3;
            font-family: Georgia, serif;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 20px 40px 40px;
            gap: 20px;
            background: linear-gradient(to top, #fafafa, white);
        }

        button {
            padding: 15px 35px;
            font-size: 1.1em;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            font-family: 'Quicksand', sans-serif;
            box-shadow: var(--shadow-float);
        }

        .btn-prev, .btn-next {
            background: linear-gradient(135deg, var(--primary-pink), var(--primary-blue));
            color: white;
            position: relative;
            overflow: hidden;
        }

        .btn-prev::before, .btn-next::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-prev:hover::before, .btn-next:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-prev:hover, .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .btn-prev:active, .btn-next:active {
            transform: translateY(-1px);
        }

        .btn-prev:disabled, .btn-next:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .btn-prev:disabled:hover, .btn-next:disabled:hover {
            transform: none;
            box-shadow: var(--shadow-float);
        }

        /* Episode-specific scenes */
        .popcorn-scene {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        .dawn-scene {
            background: linear-gradient(to top, #ff9a9e 0%, #fad0c4 30%, #ffeaa7 60%, #a1c4fd 100%);
        }

        .music-scene {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .cozy-scene {
            background: linear-gradient(to bottom, #f6d365 0%, #fda085 100%);
        }

        .loki-scene {
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
        }

        .storm-scene {
            background: linear-gradient(135deg, #3a3a3a 0%, #606c88 50%, #3f4c6b 100%);
        }

        .memories-scene {
            background: linear-gradient(to bottom, #ffecd2 0%, #fcb69f 100%);
        }

        .sky-scene {
            background: linear-gradient(to right, #4facfe 0%, #00f2fe 50%, #485563 50%, #29323c 100%);
        }

        .languages-scene {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .dinner-scene {
            background: linear-gradient(to bottom, #ff9a9e 0%, #fecfef 100%);
        }

        .healing-scene {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .letter-scene {
            background: linear-gradient(to bottom, #fff5e1 0%, #ffd6a5 100%);
        }

        .future-scene {
            background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.6em;
            }

            .header p {
                font-size: 0.9em;
            }

            .episode-title {
                font-size: 1.4em;
                line-height: 1.3;
            }

            .month-date {
                font-size: 0.8em;
            }

            .episode-container {
                padding: 30px 15px;
            }

            .scene {
                padding: 20px 15px;
                min-height: auto;
            }

            .episode-image {
                max-width: 100%;
                border-radius: 15px;
            }

            .image-placeholder {
                height: 300px;
            }

            /* Testo pi√π leggibile */
            .story-text {
                font-size: 1em;
                line-height: 1.7;
                padding: 20px 15px;
                margin: 20px 0;
            }

            .story-text::before {
                font-size: 3em;
                top: -5px;
                left: 10px;
            }

            /* Navigazione */
            .navigation {
                padding: 15px;
                gap: 10px;
            }

            button {
                padding: 12px 20px;
                font-size: 0.95em;
            }

            /* Progress bar */
            .progress-container {
                padding: 15px 20px 10px;
            }

            .episode-counter {
                font-size: 0.9em;
            }
        }

        /* Extra small devices */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.4em;
            }

            .episode-title {
                font-size: 1.2em;
            }

            .story-text {
                font-size: 0.95em;
                padding: 15px 12px;
            }

            .scene {
                padding: 15px 10px;
            }

            .episode-image {
                border-radius: 12px;
            }

            .image-placeholder {
                height: 250px;
                font-size: 1em;
            }

            button {
                padding: 10px 18px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="storybook-container">
        <div class="header">
            <h1>ü¶ã La Nostra Storia ü¶ã</h1>
            <p>Dal Bruco alla Farfalla - 23 Nov 2024 ‚Üí 20 Dic 2025</p>
            
            <!-- Music Player -->
            <div class="music-player">
                <button id="musicToggle" class="music-button">
                    <span id="musicIcon">üéµ</span>
                    <span id="musicText">Riproduci Musica</span>
                </button>
                <audio id="backgroundMusic" loop>
                    <source src="background-music.mp3" type="audio/mpeg">
                    Il tuo browser non supporta l'audio.
                </audio>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="episode-counter">
                <span id="episodeCounter">Episodio 1 di 13</span>
            </div>
        </div>

        <div class="episode-container">
            <!-- EPISODIO 1: Il Cinema e i Fazzoletti -->
            <div class="episodeactive" data-episode="1">
                <div class="month-header">
                    <div class="month-date">23 Novembre 2024</div>
                    <h2 class="episode-title">Il Cinema e i Fazzoletti</h2>
                </div>
                <div class="scene">
                    <img src="episode_1.png" alt="Il Cinema e i Fazzoletti" class="episode-image" />
                </div>
                <div class="story-text">
                    "Andiamo a vedere 'il ragazzo dai pantaloni rosa' all'Uci Cinema di Lissone? Ore 19:40" - Quel sabato sera di novembre, due bruchi si ritrovarono davanti a uno schermo luminoso. Pop corn croccanti tra le zampe, sorrisi nervosi, e la promessa di fazzoletti per asciugare lacrime. Non sapevano ancora che quelle lacrime condivise sarebbero state solo l'inizio. Alla fine del film, lui le mand√≤ una canzone su Spotify. "Grazie Fabio, questa canzone adesso mi fa venire i brividi" rispose lei. I brividi dell'inizio.
                </div>
            </div>

            : La Luce cerca Spazio -->
            <div class="episode" data-episode="2">
                <div class="month-header">
                    <div class="month-date">Dicembre 2024</div>
                    <h2 class="episode-title">La Luce cerca Spazio</h2>
                </div>
                <div class="scene dawn-scene">
                    <img src="episode_2.png" alt="Due bruchi che guardano l'alba da case diverse" class="episode-image" />
                </div>
                <div class="story-text">
                    Dicembre port√≤ mattine fredde e albe luminose. Due case diverse, due finestre, ma lo stesso sole che sorgeva. Mentre la luce cercava spazio tra le nuvole d'inverno, anche i due bruchi cercavano il loro spazio nel cuore dell'altro, sapendo che presto quella distanza sarebbe stata solo un ricordo.
                </div>
            </div>

            <!-- EPISODIO 3: In Una Dimensione Parallela -->
            <div class="episode" data-episode="3">
                <div class="month-header">
                    <div class="month-date">1 Dicembre 2024</div>
                    <h2 class="episode-title">In Una Dimensione Parallela</h2>
                </div>
                <div class="scene">
                    <img src="episode_3.png" alt="In Una Dimensione Parallela" class="episode-image" />
                </div>
                <div class="story-text">
                    "In una dimensione parallela sono stata abbracciata a te tutta la notte." - Parole che facevano male e bene insieme. Lei immaginava abbracci in altre dimensioni. "Quando mi parli di dimensione parallela, ora mi viene in mente Interstellar ancora e cosa combina il tempo" scrisse lui. Due bruchi separati dalla realt√†, ma uniti in qualche piega dell'universo. L'amore vero non ha bisogno di essere toccato per esistere.
                </div>
            </div>

            : Perch√© quando siamo insieme -->
            <div class="episode" data-episode="4">
                <div class="month-header">
                    <div class="month-date">Febbraio 2025</div>
                    <h2 class="episode-title">Perch√© quando siamo insieme, siamo davvero insieme io e te</h2>
                </div>
                <div class="scene cozy-scene">
                    <img src="episode_4.png" alt="Due bruchi con tisana e biscotti" class="episode-image" />
                </div>
                <div class="story-text">
                    Febbraio regal√≤ pomeriggi di quiete perfetta. Tisana calda tra le zampe, biscotti croccanti, e il dolce far nulla. Non servivano grandi avventure quando c'era la bellezza di stare semplicemente vicini. In quei momenti scoprirono che l'amore vero √® fatto anche di silenzi confortevoli e di presenza silenziosa.
                </div>
            </div>

            <!-- EPISODIO 5: Se la Mia Situazione Fosse Diversa -->
            <div class="episode" data-episode="5">
                <div class="month-header">
                    <div class="month-date">15 Dicembre 2024</div>
                    <h2 class="episode-title">Se la Mia Situazione Fosse Diversa</h2>
                </div>
                <div class="scene">
                    <img src="episode_5.png" alt="Se la Mia Situazione Fosse Diversa" class="episode-image" />
                </div>
                <div class="story-text">
                    "Questo messaggio √® stato eliminato." "Avevo scritto, poi ho cancellato." "Se la mia situazione fosse diversa saremmo gi√† finiti a letto. Ti avrei mangiato." - Quel giorno lei trov√≤ il coraggio di dire la verit√†. Parole cancellate e poi riscritte. "Quando sarai uscito dalla tua grotta se mi vorrai ci sar√≤" scrisse lei. Due bruchi con vite complesse, ma con sentimenti cristallini. L'attesa non era un ostacolo, ma parte del loro percorso.
                </div>
            </div>

            : Hai voglia e tempo di rivedermi -->
            <div class="episode" data-episode="6">
                <div class="month-header">
                    <div class="month-date">Aprile 2025</div>
                    <h2 class="episode-title">Hai voglia e tempo di rivedermi</h2>
                </div>
                <div class="scene storm-scene">
                    <img src="episode_6.png" alt="Due bruchi uniti dal filo rosso nella tempesta" class="episode-image" />
                </div>
                <div class="story-text">
                    Aprile port√≤ tempeste inaspettate che li misero alla prova. Indeboliti, tristi, separati dalla distanza. Ma anche nelle notti pi√π buie, il filo rosso del destino li teneva legati. Nonostante tutto, nonostante la fatica, trovarono la forza di rivedersi, di ritrovarsi. Perch√© quando ami davvero, trovi sempre il tempo e la voglia.
                </div>
            </div>

            <!-- EPISODIO 7: Buongiorno ‚òÄÔ∏è -->
            <div class="episode" data-episode="7">
                <div class="month-header">
                    <div class="month-date">14 Febbraio 2025</div>
                    <h2 class="episode-title">Buongiorno ‚òÄÔ∏è</h2>
                </div>
                <div class="scene">
                    <img src="episode_7.png" alt="Buongiorno ‚òÄÔ∏è" class="episode-image" />
                </div>
                <div class="story-text">
                    "Buongiorno Franci ‚òÄÔ∏è" - Ogni mattina iniziava cos√¨. Un sole, un saluto, una promessa di esserci. San Valentino arriv√≤, ma loro non ne avevano bisogno. "Ti amo. Dal primo giorno (e non ho bisogno di San Valentino per dimostrartelo)" aveva scritto lui. L'amore vero non aspetta le date sul calendario. Si manifesta nel "buongiorno ‚òÄÔ∏è" quotidiano, nei messaggi all'alba, nei "come stai?" sinceri. Ogni giorno pu√≤ essere San Valentino quando ami davvero.
                </div>
            </div>

            : Devo fare il rag√π di tofu -->
            <div class="episode" data-episode="8">
                <div class="month-header">
                    <div class="month-date">Luglio 2025</div>
                    <h2 class="episode-title">Devo fare il rag√π di tofu settimana prox</h2>
                </div>
                <div class="scene sky-scene">
                    <img src="episode_8.png" alt="Due bruchi sotto cieli diversi" class="episode-image" />
                </div>
                <div class="story-text">
                    Luglio port√≤ distanze e cieli diversi. Lui guardava un cielo azzurro dipinto da nuvole artistiche, promettendo piatti deliziosi per il loro futuro insieme. Lei, sotto cieli pi√π scuri, aspettava con pazienza giorni migliori. Due met√† dello stesso cielo, due realt√† momentaneamente diverse, ma un solo cuore condiviso che batteva all'unisono.
                </div>
            </div>

            <!-- EPISODIO 9: Vedrai che Torner√≤ -->
            <div class="episode" data-episode="9">
                <div class="month-header">
                    <div class="month-date">20 Maggio 2025</div>
                    <h2 class="episode-title">Vedrai che Torner√≤</h2>
                </div>
                <div class="scene">
                    <img src="episode_9.png" alt="Vedrai che Torner√≤" class="episode-image" />
                </div>
                <div class="story-text">
                    "Vedrai che torner√≤, meglio di prima e meno di domani." - Questa frase divenne il loro mantra. "Meglio di prima" significava crescita continua. "Meno di domani" significava che il meglio doveva ancora venire. "Ogni giorno, ogni domani per me significa essere una persona migliore di ieri ed ogni volta che torner√≤ da te sar√† per donarti una versione pi√π bella del presente" le aveva scritto lui. Si stavano trasformando. Il bozzolo stava prendendo forma.
                </div>
            </div>

            : Dove sei? Che ore sono? -->
            <div class="episode" data-episode="10">
                <div class="month-header">
                    <div class="month-date">Settembre 2025</div>
                    <h2 class="episode-title">Dove sei? Che ore sono?</h2>
                </div>
                <div class="scene dinner-scene">
                    <img src="episode_10.png" alt="Cena con i bruchi" class="episode-image" />
                </div>
                <div class="story-text">
                    Settembre port√≤ una cena speciale, con un'amica cara. In mezzo alla conversazione, lei guard√≤ lui negli occhi e fece una promessa: "Vedrai che torner√≤, meglio di prima e meno di domani." Una promessa di crescita continua, di amore che si evolve, di un futuro sempre pi√π luminoso insieme. Ogni giorno meglio del precedente, ma mai bello come il prossimo.
                </div>
            </div>

            <!-- EPISODIO 11: Grazie -->
            <div class="episode" data-episode="11">
                <div class="month-header">
                    <div class="month-date">15 Ottobre 2025</div>
                    <h2 class="episode-title">Grazie</h2>
                </div>
                <div class="scene">
                    <img src="episode_11.png" alt="Grazie" class="episode-image" />
                </div>
                <div class="story-text">
                    "Buongiorno Fabio, grazie dei tuoi audio. Ho dormito finalmente pi√π del solito." - Ottobre li trov√≤ pi√π sereni. Lei aveva iniziato a dormire meglio. "Grazie" era diventata la parola pi√π ricorrente. Grazie per gli audio, grazie per la pazienza, grazie per esserci, grazie per aspettare, grazie per capire. Avevano capito che l'amore vero √® fatto anche di riconoscere i doni che l'altro ci fa. Ogni "grazie" era un mattone della loro casa.
                </div>
            </div>

            : Buon... Domani! -->
            <div class="episode" data-episode="12">
                <div class="month-header">
                    <div class="month-date">23 Novembre 2025</div>
                    <h2 class="episode-title">Buon... Domani! Che strano modo di festeggiare un oggi, non Trovi?</h2>
                </div>
                <div class="scene letter-scene">
                    <img src="episode_12.png" alt="Bruco che legge lettera e abbraccia" class="episode-image" />
                </div>
                <div class="story-text">
                    E arriviamo al 23 novembre, esattamente un anno dopo. Lui la abbraccia dolcemente mentre legge una lettera scritta con il cuore. Accanto a loro, un tavolo con una candelina che celebra dodici mesi straordinari. "Buon domani," sussurra lui, perch√© ogni fine √® solo un nuovo inizio. Che strano modo di festeggiare un oggi, ma quanto perfetto per chi sa che il meglio deve ancora venire.
                </div>
            </div>

            <!-- EPISODIO 13: Buon Compleanno - La Metamorfosi -->
            <div class="episode" data-episode="13">
                <div class="month-header">
                    <div class="month-date">20 Dicembre 2025</div>
                    <h2 class="episode-title">Buon Compleanno - La Metamorfosi</h2>
                </div>
                <div class="scene">
                    <img src="episode_13.png" alt="Buon Compleanno - La Metamorfosi" class="episode-image" />
                </div>
                <div class="story-text">
                    20 dicembre 2025. Il suo compleanno. Ma anche qualcosa di pi√π grande. Lui arriv√≤ con un regalo speciale - un tag NFC in un ciondolo a forma di bozzolo. "Avvicinalo al telefono" disse. Apparve la loro storia. 13 episodi. 13 mesi. Due bruchi che attraversavano stagioni ed emozioni. Mentre leggevano, sentirono qualcosa cambiare. Il bozzolo si apr√¨. Non erano pi√π gli stessi bruchi nervosi del cinema. "Guarda" sussurr√≤ lui, indicando il cielo. Due farfalle volavano nel tramonto. "Siamo noi" disse lei con gli occhi lucidi. "La storia dei bruchi √® finita. Ma la storia delle farfalle... sta solo iniziando." Si abbracciarono. Per la prima volta, l'abbraccio era reale. Presente. "Buon compleanno, amore mio" disse lui. "Buon primo giorno, farfalla mia" rispose lei. E volarono. Insieme. Per sempre. ‚àûü¶ã
                </div>
            </div>

            </div>

        <div class="navigation">2: 133 Messaggi in Un Giorno -->
            <div class="episode" data-episode="2">
                <div class="month-header">
                    <div class="month-date">30 Novembre 2024</div>
                    <h2 class="episode-title">133 Messaggi in Un Giorno</h2>
                </div>
                <div class="scene">
                    <img src="episode_2.png" alt="133 Messaggi in Un Giorno" class="episode-image" />
                </div>
                <div class="story-text">
                    "Dormito poco, ma quel poco √® stato bello, dolce. Ti immagino." - 133 messaggi. Un record. Un giorno intero passato a scriversi, a condividersi, a immaginarsi. "Ti immagino che ti riempio di baci" scrisse lei. Parlavano di spiritualit√†, di Vipassana, di tantra, di crescita. "Ti ringrazio ogni tua esperienza fino ad oggi √® sempre stata affine a quello che sento ü§ç‚ù§Ô∏è". E poi: "Ogni volta che ti sento √® come se accendessi fuoco dentro di me" üî• Il fuoco era stato acceso.
                </div>
            </div>

            
            <button class="btn-prev" id="prevBtn" onclick="changeEpisode(-1)">‚Üê Precedente</button>
            <button class="btn-next" id="nextBtn" onclick="changeEpisode(1)">Successivo ‚Üí</button>
        </div>
    </div>

    <script>
        let currentEpisode = 1;
        const totalEpisodes = 13;

        // Music Player Functionality
        const musicToggle = document.getElementById('musicToggle');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const musicIcon = document.getElementById('musicIcon');
        const musicText = document.getElementById('musicText');
        let isPlaying = false;

        // Try to autoplay music on page load
        window.addEventListener('load', function() {
            // Attempt autoplay
            backgroundMusic.play().then(() => {
                musicIcon.textContent = 'üé∂';
                musicText.textContent = 'Pausa Musica';
                musicToggle.classList.add('playing');
                isPlaying = true;
            }).catch(error => {
                // Autoplay blocked by browser - wait for user interaction
                console.log('Autoplay bloccato. In attesa di interazione utente.');
                // Try again on first user interaction
                document.addEventListener('click', function playOnFirstClick() {
                    backgroundMusic.play().then(() => {
                        musicIcon.textContent = 'üé∂';
                        musicText.textContent = 'Pausa Musica';
                        musicToggle.classList.add('playing');
                        isPlaying = true;
                    }).catch(e => console.log('Impossibile riprodurre audio'));
                    // Remove listener after first attempt
                    document.removeEventListener('click', playOnFirstClick);
                }, { once: true });
            });
        });

        musicToggle.addEventListener('click', function() {
            if (isPlaying) {
                backgroundMusic.pause();
                musicIcon.textContent = 'üéµ';
                musicText.textContent = 'Riproduci Musica';
                musicToggle.classList.remove('playing');
                isPlaying = false;
            } else {
                backgroundMusic.play().then(() => {
                    musicIcon.textContent = 'üé∂';
                    musicText.textContent = 'Pausa Musica';
                    musicToggle.classList.add('playing');
                    isPlaying = true;
                }).catch(error => {
                    console.log('Errore riproduzione audio:', error);
                    alert('Non riesco a riprodurre la musica. Assicurati di aver caricato il file audio.');
                });
            }
        });

        // Automatically adjust volume
        backgroundMusic.volume = 0.3; // 30% volume for background music

        function updateEpisode() {
            document.querySelectorAll('.episode').forEach(ep => {
                ep.classList.remove('active');
            });

            document.querySelector(`[data-episode="${currentEpisode}"]`).classList.add('active');

            document.getElementById('episodeCounter').textContent = `Episodio ${currentEpisode} di ${totalEpisodes}`;

            const progress = (currentEpisode / totalEpisodes) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            document.getElementById('prevBtn').disabled = currentEpisode === 1;
            document.getElementById('nextBtn').disabled = currentEpisode === totalEpisodes;

            // Scroll to top on episode change
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function changeEpisode(direction) {
            currentEpisode += direction;
            if (currentEpisode < 1) currentEpisode = 1;
            if (currentEpisode > totalEpisodes) currentEpisode = totalEpisodes;
            updateEpisode();
        }

        // Initialize
        updateEpisode();

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft' && currentEpisode > 1) {
                changeEpisode(-1);
            } else if (e.key === 'ArrowRight' && currentEpisode < totalEpisodes) {
                changeEpisode(1);
            }
        });

        // Touch swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50 && currentEpisode < totalEpisodes) {
                changeEpisode(1);
            }
            if (touchEndX > touchStartX + 50 && currentEpisode > 1) {
                changeEpisode(-1);
            }
        }
    </script>
</body>
</html>
